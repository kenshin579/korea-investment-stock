# PRD-33: λ―Έκµ­ μ£Όμ‹ ν„μ¬κ°€ μ΅°ν ν†µν•© μΈν„°νμ΄μ¤ κµ¬ν„

## 1. κ°μ”

### 1.1 ν”„λ΅μ νΈ λ°°κ²½
ν„μ¬ `korea-investment-stock` λΌμ΄λΈλ¬λ¦¬λ” ν•κµ­ν¬μμ¦κ¶ APIλ¥Ό ν™μ©ν• μ£Όμ‹ κ±°λ μ‹μ¤ν…μ„ μ κ³µν•κ³  μμµλ‹λ‹¤. μ‚¬μ©μλ“¤μ€ `fetch_price_list()` ν•λ‚μ λ©”μ„λ“λ΅ κµ­λ‚΄μ™€ λ―Έκµ­ μ£Όμ‹μ ν„μ¬κ°€λ¥Ό λ¨λ‘ μ΅°νν•κΈ°λ¥Ό μ›ν•μ§€λ§, ν„μ¬ λ―Έκµ­ μ£Όμ‹ μ΅°ν μ‹ ν•„μ”ν• `fetch_oversea_price()` λ©”μ„λ“κ°€ λ„λ½λμ–΄ μμ–΄ ν†µν•© μΈν„°νμ΄μ¤κ°€ μ λ€λ΅ μ‘λ™ν•μ§€ μ•κ³  μμµλ‹λ‹¤.

### 1.2 λ©ν‘
- **λ‹¨μΌ μΈν„°νμ΄μ¤**: `fetch_price_list()` ν•λ‚λ΅ κµ­λ‚΄/λ―Έκµ­ μ£Όμ‹ ν„μ¬κ°€ μ΅°ν
- **μΌκ΄€λ μ‚¬μ© κ²½ν—**: μ‹μ¥ κµ¬λ¶„ μ—†μ΄ λ™μΌν• λ©”μ„λ“λ΅ μ΅°ν
- **κΈ°μ΅΄ μ½”λ“ νΈν™μ„±**: ν„μ¬ κµ­λ‚΄ μ£Όμ‹ μ΅°ν μ½”λ“λ” κ·Έλ€λ΅ μ μ§€

## 2. ν„μ¬ μƒνƒ λ¶„μ„

### 2.1 ν†µν•© μΈν„°νμ΄μ¤ κ΄€μ μ—μ„μ ν„ν™©

#### ν„μ¬ `fetch_price_list()` νΈμ¶ ν”λ΅μ°
```
fetch_price_list(stock_list)
    β†“
__fetch_price(symbol, market)
    β†“
    if market == "KR": 
        β†’ fetch_domestic_price() β… (μ‘λ™)
    elif market == "US":
        β†’ fetch_oversea_price() β (λ©”μ„λ“ μ—†μ)
        
μ μ•λ κ°μ„ :
        β†’ __fetch_price_detail_oversea() β… (μ΄λ―Έ κµ¬ν„λ¨)
```

#### λ©”μ„λ“λ³„ μ§€μ› ν„ν™©
| λ©”μ„λ“ | κµ­λ‚΄ μ£Όμ‹ | λ―Έκµ­ μ£Όμ‹ | λΉ„κ³  |
|--------|-----------|-----------|------|
| `fetch_price_list()` | β… | β | λ―Έκµ­ μ£Όμ‹ μ‹ μ—λ¬ λ°μƒ |
| `fetch_stock_info_list()` | β… | β… | ν†µν•© μΈν„°νμ΄μ¤ μ •μƒ μ‘λ™ |
| `fetch_search_stock_info_list()` | β… | β | κµ­λ‚΄ μ „μ© (μλ„λ μ ν•) |
| `fetch_price_detail_oversea_list()` | β | β… | ν•΄μ™Έ μ „μ© λ³„λ„ λ©”μ„λ“ |

### 2.4 μ½”λ“ λ¶„μ„ κ²°κ³Ό
```python
# __fetch_price() λ©”μ„λ“ λ‚΄λ¶€
elif market == "US":
    resp_json = self.fetch_oversea_price(symbol)  # β λ©”μ„λ“ μ—†μ
```

## 3. μ”κµ¬μ‚¬ν•­

### 3.1 κΈ°λ¥ μ”κµ¬μ‚¬ν•­

#### FR-001: ν†µν•© ν„μ¬κ°€ μ΅°ν μΈν„°νμ΄μ¤
- **μ„¤λ…**: `fetch_price_list()` ν•λ‚λ΅ κµ­λ‚΄/λ―Έκµ­ μ£Όμ‹ ν„μ¬κ°€ λ¨λ‘ μ΅°ν
- **μμ‹ μ½”λ“**:
  ```python
  stock_list = [
      ("005930", "KR"),  # μ‚Όμ„±μ „μ
      ("AAPL", "US"),    # μ• ν”
      ("TSLA", "US"),    # ν…μ¬λΌ
      ("035720", "KR")   # μΉ΄μΉ΄μ¤
  ]
  results = broker.fetch_price_list(stock_list)  # λ¨λ‘ μ •μƒ μ΅°ν
  ```
- **μ°μ„ μμ„**: P0 (Critical)

#### FR-002: `__fetch_price()` λ©”μ„λ“ μμ •
- **μ„¤λ…**: λ―Έκµ­ μ£Όμ‹ μ΅°ν μ‹ κΈ°μ΅΄ `__fetch_price_detail_oversea()` ν™μ©ν•λ„λ΅ μμ •
- **κµ¬ν„ λ°©μ•**: `market == "US"`μΌ λ• `__fetch_price_detail_oversea()` νΈμ¶
- **μ¥μ **: μ΄λ―Έ κ²€μ¦λ λ©”μ„λ“ ν™μ©μΌλ΅ μ•μ •μ„± ν™•λ³΄
- **μ°μ„ μμ„**: P0 (Critical)

#### FR-003: μΌκ΄€λ μ‘λ‹µ ν•μ‹
- **μ„¤λ…**: κµ­λ‚΄/ν•΄μ™Έ μ£Όμ‹ μ΅°ν κ²°κ³Όκ°€ λ™μΌν• κµ¬μ΅°λ¥Ό κ°€μ Έμ•Ό ν•¨
- **μ”κµ¬μ‚¬ν•­**: ν•„μ”μ‹ μ‘λ‹µ λ³€ν™ λ΅μ§ μ¶”κ°€
- **μ°μ„ μμ„**: P1 (High)

#### FR-004: API μΊ΅μν™”
- **μ„¤λ…**: λ‚΄λ¶€ κµ¬ν„ λ©”μ„λ“λ“¤μ„ privateμΌλ΅ λ³€κ²½ν•μ—¬ ν†µν•© μΈν„°νμ΄μ¤ μ‚¬μ© μ λ„
- **λ³€κ²½ λ€μƒ**:
  - `fetch_etf_domestic_price()` β†’ `__fetch_etf_domestic_price()`
  - `fetch_domestic_price()` β†’ `__fetch_domestic_price()`
- **λ©μ **: μ‚¬μ©μλ” `fetch_price_list()` ν•λ‚λ§ μ‚¬μ©ν•λ„λ΅ API λ‹¨μν™”
- **μ°μ„ μμ„**: P1 (High)

### 3.2 λΉ„κΈ°λ¥ μ”κµ¬μ‚¬ν•­

#### NFR-001: μ„±λ¥
- API μ‘λ‹µ μ‹κ°„: κ°λ³„ μ΅°ν < 500ms
- λ°°μΉ μ΅°ν: 100κ° μΆ…λ© < 10μ΄
- μΊμ‹ ν™μ©μΌλ΅ μ¤‘λ³µ μ΅°ν μµμ†ν™”

#### NFR-002: μ•μ •μ„±
- Rate Limit μ¤€μ (15 calls/sec)
- μ¬μ‹λ„ λ΅μ§ κµ¬ν„ (exponential backoff)
- μ—λ¬ λ³µκµ¬ μ‹μ¤ν… ν†µν•©

#### NFR-003: νΈν™μ„±
- κΈ°μ΅΄ APIμ™€ backward compatible
- Python 3.9+ μ§€μ›
- κΈ°μ΅΄ μΊμ‹/λ¨λ‹ν„°λ§ μ‹μ¤ν…κ³Ό ν†µν•©

## 4. μ†”λ£¨μ… μ„¤κ³„

### 4.1 κµ¬ν„ λ°©ν–¥
ν†µν•© μΈν„°νμ΄μ¤λ¥Ό μ„ν•΄ `__fetch_price()` λ©”μ„λ“λ¥Ό μμ •ν•μ—¬, λ―Έκµ­ μ£Όμ‹ μ΅°ν μ‹ μ΄λ―Έ κµ¬ν„λ `__fetch_price_detail_oversea()` λ©”μ„λ“λ¥Ό ν™μ©ν•©λ‹λ‹¤. μ΄λ” μƒλ΅μ΄ λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ” κ²ƒλ³΄λ‹¤ μ•μ •μ μ΄κ³  λΉ λ¥Έ ν•΄κ²°μ±…μ…λ‹λ‹¤.

### 4.2 μ΄ μ ‘κ·Όλ²•μ μ¥μ 
1. **λΉ λ¥Έ κµ¬ν„**: μƒλ΅μ΄ API λ©”μ„λ“ κµ¬ν„ λ¶ν•„μ”
2. **κ²€μ¦λ μ•μ •μ„±**: μ΄λ―Έ μ‘λ™ μ¤‘μΈ `__fetch_price_detail_oversea()` ν™μ©
3. **μΌκ΄€λ λ™μ‘**: κΈ°μ΅΄ ν•΄μ™Έ μƒμ„Έ μ‹μ„Έ μ΅°νμ™€ λ™μΌν• λ΅μ§ μ‚¬μ©
4. **μ μ§€λ³΄μ μ©μ΄**: ν•λ‚μ ν•΄μ™Έ API νΈμ¶ λ΅μ§λ§ κ΄€λ¦¬
5. **μ¶”κ°€ μ •λ³΄ μ κ³µ**: ν„μ¬κ°€ μ™Έμ—λ„ PER, PBR, EPS, BPS, λ§¤λ§¤λ‹¨μ„, νΈκ°€λ‹¨μ„ λ“± ν’λ¶€ν• μ •λ³΄ μ κ³µ

### 4.3 ν•µμ‹¬ κµ¬ν„ μ‚¬ν•­

#### 1. `__fetch_price()` λ©”μ„λ“ μμ •
```python
def __fetch_price(self, symbol: str, market: str = "KR") -> dict:
    """κµ­λ‚΄/ν•΄μ™Έ μ£Όμ‹ ν„μ¬κ°€ ν†µν•© μ΅°ν
    
    Args:
        symbol (str): μΆ…λ©μ½”λ“
        market (str): μ‹μ¥ κµ¬λ¶„ ("KR", "US" λ“±)
        
    Returns:
        dict: ν„μ¬κ°€ μ •λ³΄
    """
    if market == "KR" or market == "KRX":
        stock_info = self.__fetch_stock_info(symbol, market)
        symbol_type = self.__get_symbol_type(stock_info)
        if symbol_type == "ETF":
            resp_json = self.__fetch_etf_domestic_price("J", symbol)
        else:
            resp_json = self.__fetch_domestic_price("J", symbol)
    elif market == "US":
        # κΈ°μ΅΄: resp_json = self.fetch_oversea_price(symbol)  # λ©”μ„λ“ μ—†μ
        # κ°μ„ : μ΄λ―Έ κµ¬ν„λ __fetch_price_detail_oversea() ν™μ©
        resp_json = self.__fetch_price_detail_oversea(symbol, market)
        # μ°Έκ³ : μ΄ APIλ” ν„μ¬κ°€ μ™Έμ—λ„ PER, PBR, EPS λ“± μ¶”κ°€ μ •λ³΄ μ κ³µ
    else:
        raise ValueError("Unsupported market type")
    
    return resp_json
```

**μ°Έκ³ : `__fetch_price_detail_oversea()` κµ¬ν„ μ„Έλ¶€μ‚¬ν•­**
- API μ—”λ“ν¬μΈνΈ: `/uapi/overseas-price/v1/quotations/price-detail`
- TR ID: `HHDFS76200200`
- μ§€μ› κ±°λμ† (EXCD νλΌλ―Έν„°):
  - `NAS`: λ‚μ¤λ‹¥
  - `NYS`: λ‰΄μ•
  - `AMS`: μ•„λ©•μ¤
- MARKET_TYPE_MAP["US"] = ["512", "513", "529"]λ¥Ό μνν•λ©° μ΅°ν

#### 2. κ΄€λ ¨ λ©”μ„λ“ λ¦¬ν©ν† λ§
κµ­λ‚΄ μ£Όμ‹ κ°€κ²© μ΅°ν λ©”μ„λ“λ“¤μ„ privateμΌλ΅ λ³€κ²½ν•μ—¬ λ‚΄λ¶€ κµ¬ν„ μ„Έλ¶€μ‚¬ν•­μ„ μΊ΅μν™”ν•©λ‹λ‹¤:
- `fetch_etf_domestic_price()` β†’ `__fetch_etf_domestic_price()`
- `fetch_domestic_price()` β†’ `__fetch_domestic_price()`

μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μλ” `fetch_price_list()` ν†µν•© μΈν„°νμ΄μ¤λ§ μ‚¬μ©ν•λ„λ΅ μ λ„ν•©λ‹λ‹¤.

#### 3. μ‘λ‹µ ν•μ‹ ν†µμΌ (μ„ νƒμ‚¬ν•­)
ν•„μ”ν• κ²½μ° κµ­λ‚΄/ν•΄μ™Έ μ‘λ‹µ ν•μ‹μ„ ν†µμΌν•λ” λ³€ν™ λ΅μ§μ„ μ¶”κ°€ν•  μ μμµλ‹λ‹¤:
```python
def _normalize_response(self, resp_json: dict, market: str) -> dict:
    """κµ­λ‚΄/ν•΄μ™Έ μ‘λ‹µ ν•μ‹ ν†µμΌ"""
    if market == "US" and resp_json.get('rt_cd') == '0':
        # ν•΄μ™Έ μ£Όμ‹ μ‘λ‹µμ„ κµ­λ‚΄ ν•μ‹κ³Ό μ μ‚¬ν•κ² λ³€ν™
        # (μ‹¤μ  ν•„λ“λ…μ€ API μ‘λ‹µμ— λ”°λΌ μ΅°μ • ν•„μ”)
        pass
    return resp_json
```



## 5. κµ¬ν„ κ³„ν

κµ¬ν„ μ‘μ—…μ€ 3κ°μ Phaseλ΅ λ‚λ„μ–΄ μ§„ν–‰λ©λ‹λ‹¤. μƒμ„Έν• μ‘μ—… ν•­λ©κ³Ό μ²΄ν¬λ¦¬μ¤νΈλ” [TODO-33](./todo-33.md) λ¬Έμ„λ¥Ό μ°Έμ΅°ν•μ„Έμ”.

### 5.1 Phase 1: ν•µμ‹¬ κµ¬ν„ (2-3μΌ)
`__fetch_price()` λ©”μ„λ“ μμ •κ³Ό κµ­λ‚΄ κ°€κ²© μ΅°ν λ©”μ„λ“λ“¤μ μΊ΅μν™”λ¥Ό ν†µν•΄ ν†µν•© μΈν„°νμ΄μ¤μ κΈ°λ°μ„ κµ¬μ¶•ν•©λ‹λ‹¤.

**μ£Όμ” μ‘μ—…**:
- US market μ²λ¦¬ λ΅μ§μ„ `__fetch_price_detail_oversea()` νΈμ¶λ΅ λ³€κ²½
- κµ­λ‚΄ μ „μ© λ©”μ„λ“λ“¤μ„ privateμΌλ΅ λ³€κ²½ν•μ—¬ API λ‹¨μν™”
- κΈ°λ³Έ λ™μ‘ κ²€μ¦μ„ μ„ν• μ΄κΈ° ν…μ¤νΈ

### 5.2 Phase 2: μ•μ •ν™” λ° μµμ ν™” (3-4μΌ)
μ‘λ‹µ ν•μ‹ ν†µμΌμ„± κ²€ν† μ™€ μΆ…ν•©μ μΈ ν…μ¤νΈλ¥Ό ν†µν•΄ μ•μ •μ„±μ„ ν™•λ³΄ν•©λ‹λ‹¤.

**μ£Όμ” μ‘μ—…**:
- κµ­λ‚΄/ν•΄μ™Έ μ‘λ‹µ ν•μ‹ λ¶„μ„ λ° ν•„μ”μ‹ λ³€ν™ λ΅μ§ κµ¬ν„
- ν†µν•© ν…μ¤νΈ μΌ€μ΄μ¤ μ‘μ„± λ° μ—λ¬ μ²λ¦¬ κ²€μ¦
- μ„±λ¥ μµμ ν™” λ° λ¨λ‹ν„°λ§ ν†µν•©

### 5.3 Phase 3: λ¬Έμ„ν™” λ° λ°°ν¬ (1-2μΌ)
μ‚¬μ©μλ¥Ό μ„ν• λ¬Έμ„ μ—…λ°μ΄νΈμ™€ λ¦΄λ¦¬μ¦ μ¤€λΉ„λ¥Ό μ§„ν–‰ν•©λ‹λ‹¤.

**μ£Όμ” μ‘μ—…**:
- README λ° API λ¬Έμ„ μ—…λ°μ΄νΈ
- μμ  μ½”λ“ μ‘μ„± λ° κΈ°μ΅΄ μμ  μμ •
- CHANGELOG μ‘μ„± λ° λ¦΄λ¦¬μ¦ λ…ΈνΈ μ¤€λΉ„

### 5.4 μμƒ κµ¬ν„ μ‹κ°„
- **μ „μ²΄ μ†μ” μ‹κ°„**: μ•½ 1μ£Ό (5-7 μμ—…μΌ)
- **λ‚μ΄λ„**: λ‚®μ (κΈ°μ΅΄ λ©”μ„λ“ μ¬μ‚¬μ©)
- **μ„ν—λ„**: λ‚®μ (κ²€μ¦λ μ½”λ“ ν™μ©)

> π’΅ **μ°Έκ³ **: κµ¬μ²΄μ μΈ μ‘μ—… ν•­λ©κ³Ό μ§„ν–‰ μƒν™©μ€ [TODO-33](./todo-33.md)μ—μ„ κ΄€λ¦¬λ©λ‹λ‹¤.

## 6. ν…μ¤νΈ κ³„ν

### 6.1 ν†µν•© μΈν„°νμ΄μ¤ ν…μ¤νΈ
```python
def test_unified_price_interface():
    """ν†µν•© κ°€κ²© μ΅°ν μΈν„°νμ΄μ¤ ν…μ¤νΈ"""
    stock_list = [
        ("005930", "KR"),  # μ‚Όμ„±μ „μ
        ("AAPL", "US"),    # μ• ν”
        ("035720", "KR"),  # μΉ΄μΉ΄μ¤
        ("TSLA", "US"),    # ν…μ¬λΌ
        ("NVDA", "US"),    # μ—”λΉ„λ””μ•„
    ]
    
    # ν• λ²μ νΈμ¶λ΅ λ¨λ“  μ£Όμ‹ μ΅°ν
    results = broker.fetch_price_list(stock_list)
    
    # κ²€μ¦
    assert len(results) == 5
    assert all(r['rt_cd'] == '0' for r in results)
    
    # κµ­λ‚΄/λ―Έκµ­ μ£Όμ‹ λ¨λ‘ μ •μƒ μ΅°ν ν™•μΈ
    kr_stocks = [r for r, (_, m) in zip(results, stock_list) if m == "KR"]
    us_stocks = [r for r, (_, m) in zip(results, stock_list) if m == "US"]
    
    assert len(kr_stocks) == 2
    assert len(us_stocks) == 3
```

### 6.2 λ‚΄λ¶€ λ©”μ„λ“ ν†µν•© ν…μ¤νΈ
```python
def test_fetch_price_internal_routing():
    """__fetch_price λ©”μ„λ“μ λΌμ°ν… λ΅μ§ ν…μ¤νΈ"""
    # κµ­λ‚΄ μ£Όμ‹ -> __fetch_domestic_price (private)
    result = broker._KoreaInvestment__fetch_price("005930", "KR")
    assert result['rt_cd'] == '0'
    
    # λ―Έκµ­ μ£Όμ‹ -> __fetch_price_detail_oversea
    result = broker._KoreaInvestment__fetch_price("AAPL", "US")
    assert result['rt_cd'] == '0'
    assert 'output' in result
    
    # μƒμ„Έ μ‹μ„Έ API μ‘λ‹µ ν™•μΈ
    assert result.get('output', {}).get('rsym') == 'AAPL'
```

### 6.3 μ„±λ¥ λ° μΊμ‹ ν…μ¤νΈ
```python
def test_cache_performance():
    """μΊμ‹ μ μ¤‘λ¥  λ° μ„±λ¥ ν…μ¤νΈ"""
    stock_list = [("AAPL", "US"), ("TSLA", "US")] * 10  # λ™μΌ μΆ…λ© λ°λ³µ
    
    start_time = time.time()
    results1 = broker.fetch_price_list(stock_list)
    first_call_time = time.time() - start_time
    
    # λ‘ λ²μ§Έ νΈμ¶μ€ μΊμ‹μ—μ„
    start_time = time.time()
    results2 = broker.fetch_price_list(stock_list)
    second_call_time = time.time() - start_time
    
    # μΊμ‹ μ μ¤‘μΌλ΅ λ‘ λ²μ§Έκ°€ ν›¨μ”¬ λΉ¨λΌμ•Ό ν•¨
    assert second_call_time < first_call_time * 0.1
```

## 7. μ„ν— μ”μ† λ° λ€μ‘ λ°©μ•

### 7.1 μ„ν— μ”μ†
| μ„ν— | ν™•λ¥  | μν–¥λ„ | λ€μ‘ λ°©μ• |
|------|------|--------|-----------|
| API μ¤ν™ λ³€κ²½ | λ‚®μ | λ†’μ | API λ²„μ „ κ΄€λ¦¬, λ³€κ²½μ‚¬ν•­ λ¨λ‹ν„°λ§ |
| Rate Limit μ΄κ³Ό | μ¤‘κ°„ | μ¤‘κ°„ | λ°±μ¤ν”„ μ „λµ κ°•ν™”, μΊμ‹ ν™μ© κ·Ήλ€ν™” |
| κ±°λμ†λ³„ μ‹¬λ³Ό μ°¨μ΄ | λ†’μ | λ‚®μ | μ‹¬λ³Ό λ§¤ν•‘ ν…μ΄λΈ” κµ¬μ¶• |
| λ¨μν¬μ λ―Έμ§€μ› | ν™•μ‹¤ | λ‚®μ | λ¬Έμ„μ— λ…μ‹, μ‹¤μ „ κ³„μ • μ‚¬μ© ν•„μ |

### 7.2 μμ΅΄μ„±
- ν•κµ­ν¬μμ¦κ¶ API ν•΄μ™Έμ£Όμ‹ μ—”λ“ν¬μΈνΈ κ°€μ©μ„±
- κΈ°μ΅΄ rate limiting μ‹μ¤ν…
- μΊμ‹ μ‹μ¤ν…

## 8. μ„±κ³µ μ§€ν‘

### 8.1 κΈ°λ¥μ  μ§€ν‘
- λ―Έκµ­ μ£Όμ‹ μ΅°ν μ„±κ³µλ¥  > 99%
- API μ‘λ‹µ μ‹κ°„ < 500ms (μΊμ‹ λ―Έμ μ¤‘ μ‹)
- λ¨λ“  λ―Έκµ­ κ±°λμ†(NASDAQ, NYSE, AMEX) μ§€μ›
- ν†µν•© μΈν„°νμ΄μ¤λ΅ κµ­λ‚΄/λ―Έκµ­ μ£Όμ‹ νΌν•© μ΅°ν κ°€λ¥
- λ―Έκµ­ μ£Όμ‹ μ΅°ν μ‹ PER, PBR λ“± μ¶”κ°€ μ •λ³΄λ„ ν•¨κ» μ κ³µ

### 8.2 ν’μ§ μ§€ν‘
- ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€ > 90%
- μ—λ¬ λ°μƒλ¥  < 0.1%
- λ¬Έμ„ν™” μ™„μ„±λ„ 100%

## 9. μ‚¬μ© μμ‹

### 9.1 ν„μ¬ (λ¬Έμ  μƒν™©)
```python
# κµ­λ‚΄ μ£Όμ‹λ§ μ΅°ν κ°€λ¥
kr_stocks = [("005930", "KR"), ("035720", "KR")]
kr_results = broker.fetch_price_list(kr_stocks)  # β… μ •μƒ

# λ―Έκµ­ μ£Όμ‹ ν¬ν•¨ μ‹ μ—λ¬
mixed_stocks = [("005930", "KR"), ("AAPL", "US")]
mixed_results = broker.fetch_price_list(mixed_stocks)  # β AttributeError: fetch_oversea_price
```

### 9.2 κ°μ„  ν›„ (λ©ν‘)
```python
# ν†µν•© μΈν„°νμ΄μ¤λ΅ λ¨λ“  μ£Όμ‹ μ΅°ν
mixed_stocks = [
    ("005930", "KR"),    # μ‚Όμ„±μ „μ
    ("AAPL", "US"),      # μ• ν”
    ("035720", "KR"),    # μΉ΄μΉ΄μ¤
    ("TSLA", "US"),      # ν…μ¬λΌ
    ("000660", "KR"),    # SKν•μ΄λ‹‰μ¤
    ("MSFT", "US"),      # λ§μ΄ν¬λ΅μ†ν”„νΈ
]

# ν• λ²μ νΈμ¶λ΅ λ¨λ“  μ£Όμ‹ μ΅°ν
results = broker.fetch_price_list(mixed_stocks)  # β… λ¨λ‘ μ •μƒ

# κ²°κ³Ό ν™μ©
for (symbol, market), result in zip(mixed_stocks, results):
    if result['rt_cd'] == '0':
        price = result['output']['last']  # λλ” μ μ ν• ν•„λ“
        print(f"{symbol} ({market}): {price}")
```

## 10. μ°Έκ³  μλ£

### 10.1 κ΄€λ ¨ λ¬Έμ„
- ν•κµ­ν¬μμ¦κ¶ OpenAPI κ°λ° κ°€μ΄λ“
- [Issue #27: Rate Limiting κµ¬ν„](../issue-27/)
- [Issue #30: IPO μ΅°ν κΈ°λ¥](../issue-30/)

### 10.2 API μ—”λ“ν¬μΈνΈ
- κµ­λ‚΄μ£Όμ‹ ν„μ¬κ°€: `/uapi/domestic-stock/v1/quotations/inquire-price`
- ν•΄μ™Έμ£Όμ‹ ν„μ¬κ°€μƒμ„Έ: `/uapi/overseas-price/v1/quotations/price-detail` (μ‹¤μ  μ‚¬μ©)
  - TR ID: `HHDFS76200200`
  - Method: `GET`
  - λ¨μν¬μ: **λ―Έμ§€μ›**
  - λ¬΄λ£μ‹μ„Έ(μ§€μ—°μ‹μ„Έ) μ κ³µ (λ―Έκµ­: μ‹¤μ‹κ°„, κΈ°νƒ€: 15λ¶„ μ§€μ—°)
- ~~ν•΄μ™Έμ£Όμ‹ ν„μ¬κ°€: `/uapi/overseas-price/v1/quotations/price`~~ (λ―Έκµ¬ν„)
- μ£Όμ‹ μΆ…λ©μ •λ³΄: `/uapi/domestic-stock/v1/quotations/search-info`

### 10.3 μ°Έκ³  μ‚¬ν•­
- ν•΄μ™Έμ£Όμ‹ ν„μ¬κ°€μƒμ„Έ APIλ” ν„μ¬κ°€ μ™Έμ—λ„ λ§¤λ§¤λ‹¨μ„(vnit), νΈκ°€λ‹¨μ„(e_hogau), PER, PBR, EPS, BPS λ“±μ μ¶”κ°€ μ •λ³΄ μ κ³µ
- λ¨μν¬μμ—μ„λ” ν•΄μ™Έμ£Όμ‹ μ‹μ„Έ μ΅°ν λ¶κ°€ (μ‹¤μ „ κ³„μ • ν•„μ)
- ν•κµ­ν¬μμ¦κ¶ API μƒμ„Έ λ¬Έμ„: `/docs/api/` λ””λ ‰ν† λ¦¬ μ°Έμ΅°
- λ―Έκµ­ μ£Όμ‹μ€ μ‹¤μ‹κ°„ λ¬΄λ£μ‹μ„Έ μ κ³µ (λ‚μ¤λ‹¥ λ§μΌ“μ„Όν„° κΈ°μ¤€)
- μ‘λ‹µ ν•μ‹μ΄ κµ­λ‚΄/ν•΄μ™Έ κ°„ λ‹¤λ¥Ό μ μμΌλ―€λ΅ ν•„μ”μ‹ λ³€ν™ λ΅μ§ κµ¬ν„ κ¶μ¥

---

**μ‘μ„±μΌ**: 2025-01-13  
**μ‘μ„±μ**: AI Assistant  
**λ²„μ „**: 2.3.1  
**μƒνƒ**: μ΄μ•

### λ³€κ²½ μ΄λ ¥
- v2.3.1 (2025-01-13): κµ¬ν„ κ³„ν κ°μ„ 
  - κµ¬ν„ κ³„νμ TODO ν•­λ©λ“¤μ„ λ³„λ„ [TODO-33](./todo-33.md) νμΌλ΅ λ¶„λ¦¬
  - λ” μƒμ„Έν• μ‘μ—… ν•­λ©κ³Ό μ²΄ν¬λ¦¬μ¤νΈ μ κ³µ
  - Phaseλ³„ μ£Όμ” μ‘μ—… μ„¤λ… μ¶”κ°€
- v2.3.0 (2025-01-13): ν•κµ­ν¬μ API λ¬Έμ„ λ°μ
  - `/docs/api/` λ””λ ‰ν† λ¦¬μ κ³µμ‹ API λ¬Έμ„ μ •λ³΄ μ¶”κ°€
  - ν•΄μ™Έμ£Όμ‹ ν„μ¬κ°€μƒμ„Έ APIμ μƒμ„Έ νλΌλ―Έν„° λ…μ‹
  - λ¨μν¬μ λ―Έμ§€μ› λ° μ§€μ—°μ‹μ„Έ μ •λ³΄ μ¶”κ°€
- v2.2.0 (2025-01-13): λ©”μ„λ“ μΊ΅μν™” μ¶”κ°€
  - `fetch_etf_domestic_price()`, `fetch_domestic_price()`λ¥Ό private λ©”μ„λ“λ΅ λ³€κ²½
  - μ‚¬μ©μκ°€ ν†µν•© μΈν„°νμ΄μ¤ `fetch_price_list()`λ§ μ‚¬μ©ν•λ„λ΅ μ λ„
- v2.1.0 (2025-01-13): κµ¬ν„ λ°©μ‹ λ³€κ²½
  - `fetch_oversea_price()` μ‹ κ· κµ¬ν„ λ€μ‹  κΈ°μ΅΄ `__fetch_price_detail_oversea()` ν™μ©
  - κµ¬ν„ κΈ°κ°„ λ‹¨μ¶• (2-3μ£Ό β†’ 1μ£Ό)
  - μ΄λ―Έ κ²€μ¦λ λ©”μ„λ“ μ¬μ‚¬μ©μΌλ΅ μ•μ •μ„± ν–¥μƒ
- v2.0.0 (2025-01-13): ν†µν•© μΈν„°νμ΄μ¤ μ¤‘μ‹¬μΌλ΅ μ „λ©΄ μ¬μ‘μ„±
  - λ©ν‘ λ³€κ²½: λ³„λ„ ν•΄μ™Έ λ©”μ„λ“ λ€μ‹  `fetch_price_list()` ν†µν•© μΈν„°νμ΄μ¤ κµ¬ν„
  - `fetch_price_detail_oversea_list()` μ‚¬μ© λ°©μ• μ κ±°
  - ν…μ¤νΈ κ³„νμ„ ν†µν•© μΈν„°νμ΄μ¤ κ΄€μ μΌλ΅ μμ •
- v1.0.1 (2025-01-13): `fetch_stock_info_list()` κµ­λ‚΄/λ―Έκµ­ μ§€μ› ν™•μΈ
- v1.0.0 (2025-01-13): μ΄μ• μ‘μ„± 